# 第2章：核心動力 - 理解上下文 (Context) 的重要性

## 章節概述
本章節是課程的核心基礎，讓學員深入理解上下文在AI對話中的關鍵作用，以及如何有效提供上下文來獲得高品質的AI回應。

## 學習目標
完成本章節後，學員將能夠：
1. 理解上下文的兩大類型：意圖與狀態
2. 掌握四種上下文引用符號的使用方法
3. 根據不同情境選擇適當的上下文提供方式
4. 提升與AI溝通的精準度和效率

## 教學內容規劃

### 2.1 上下文的本質與重要性 (20分鐘)
**核心概念：**
- 什麼是上下文？
- 為什麼上下文決定AI回應品質？
- 上下文不足的常見問題案例

**實際演示：**
- 對比實驗：有無上下文的AI回應差異
- 展示模糊指令vs明確指令的結果

**互動活動：**
- 讓學員識別不良上下文的問題
- 分組討論：如何改善模糊的問題描述

### 2.2 兩種上下文類型詳解 (25分鐘)

#### 2.2.1 意圖 (Intent) - 您要AI做什麼
**內容要點：**
- 清晰的動作描述
- 期望的輸出格式
- 任務的具體要求

**良好意圖範例：**
```
✅ 好的意圖：「請分析這個函式的商業邏輯，並用產品經理能理解的語言解釋其用途」
❌ 不好的意圖：「看看這個函式」
```

#### 2.2.2 狀態 (State) - 客觀事實
**內容要點：**
- 錯誤訊息
- 相關程式碼片段
- 系統配置資訊
- 專案結構

**狀態提供技巧：**
- 完整的錯誤堆疊
- 相關檔案路徑
- 版本資訊

### 2.3 四種上下文引用符號實戰 (30分鐘)

#### 2.3.1 `#` 符號 - 精準鎖定程式碼符號
**使用場景：**
- 分析特定函式或類別
- 追蹤程式碼邏輯
- 精準的程式碼重構

**實作練習：**
```
範例指令：
"請分析 #UserService 類別的 #createUser 方法，解釋其商業邏輯"
```

**注意事項：**
- 符號名稱必須精確
- 適用於已知的程式碼結構
- 提供最高精準度

#### 2.3.2 `@file` - 引用單一檔案
**使用場景：**
- 分析整個檔案的結構
- 理解檔案的整體功能
- 檔案級別的重構建議

**實作練習：**
```
範例指令：
"請分析 @utils.ts 檔案，總結其提供的工具函式"
```

#### 2.3.3 `@folder` - 引用資料夾
**使用場景：**
- 了解模組架構
- 分析資料夾的整體功能
- 大範圍的程式碼概覽

**實作練習：**
```
範例指令：
"請分析 @components/ 資料夾，說明其包含的主要元件類型"
```

#### 2.3.4 `@` 通用引用 - 外部資源
**使用場景：**
- 引用文件或網頁
- 整合外部資訊
- 非程式碼資源

**實作練習：**
```
範例指令：
"根據 @https://api-docs.example.com 的文件，分析我們的API實作是否符合規範"
```

### 2.4 上下文組合策略 (15分鐘)
**核心原則：**
- `@` 用於指定範圍
- `#` 用於鎖定目標
- 組合使用提升精準度

**組合範例：**
```
"在 @user-service/ 模組中，請分析 #AuthController 的 #login 方法，
解釋其認證流程，並指出可能的安全風險"
```

## 實作練習

### 練習1：上下文類型識別 (15分鐘)
**目標：** 學員能夠區分意圖與狀態
**活動：** 給定多個AI對話範例，學員識別其中的意圖和狀態

### 練習2：符號使用實戰 (30分鐘)
**目標：** 熟練使用四種引用符號
**活動：** 
1. 使用 `#` 分析特定函式
2. 使用 `@file` 分析整個檔案
3. 使用 `@folder` 概覽模組結構
4. 組合使用多種符號

### 練習3：上下文優化挑戰 (20分鐘)
**目標：** 改善模糊的問題描述
**活動：** 給定不良的AI指令，學員重新編寫為高品質的上下文

## 常見錯誤與解決方案

### 錯誤1：上下文過於模糊
**問題：** "幫我看看這個專案"
**解決：** "請分析 @src/ 資料夾的整體架構，說明主要模組的功能和相互關係"

### 錯誤2：符號使用不當
**問題：** 使用 `#` 但符號名稱不存在
**解決：** 先用 `@file` 確認符號名稱，再使用 `#` 精準定位

### 錯誤3：意圖不明確
**問題：** "看看這個函式有什麼問題"
**解決：** "請分析 #calculatePrice 函式的商業邏輯，檢查是否存在計算錯誤或邊界情況處理不當"

## 評估方式
- **實作評估：** 學員能否正確使用四種引用符號
- **案例分析：** 給定情境，學員能否提供適當的上下文
- **同儕評估：** 學員互相檢視對方的上下文品質

## 課後作業
1. 找一個開源專案，使用四種不同的引用符號各提出一個問題
2. 記錄AI回應的品質差異
3. 準備在下次課程分享經驗

## 時間分配
- 概念講解：40分鐘
- 實作練習：65分鐘
- 討論與Q&A：15分鐘
- **總計：120分鐘**

## 教學資源
- 範例專案（用於練習）
- 上下文品質檢核表
- 常用符號速查表

## 成功指標
學員能夠：
1. 在90%的情況下正確使用引用符號
2. 識別並改善不良的上下文描述
3. 獲得比課程前更精準的AI回應 